% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ATL08_seg_attributes_dt_gridStat.R
\name{ATL08_seg_attributes_dt_gridStat}
\alias{ATL08_seg_attributes_dt_gridStat}
\title{Statistics of ATL08 Terrain and Canopy Attributes at grid level}
\usage{
ATL08_seg_attributes_dt_gridStat(atl08_seg_att_dt, func, res = 0.5)
}
\arguments{
\item{atl08_seg_att_dt}{An S4 object of class
\code{\linkS4class{icesat2.atl08_dt}} containing ATL08 data
(output of \code{\link[=ATL08_seg_attributes_dt]{ATL08_seg_attributes_dt()}} functions).}

\item{func}{The function to be applied for computing the defined statistics}

\item{res}{Spatial resolution in decimal degrees for the output SpatRast raster layer.
Default is 0.5.}
}
\value{
Return a SpatRast raster layer(s) of selected ATL08 terrain and canopy attribute(s)
}
\description{
This function computes a series of user defined descriptive statistics within
each grid cell for ATL08 Terrain and Canopy Attributes
}
\examples{
# Specifying the path to ATL08 file
atl08_path <- system.file("extdata",
  "atl08_clip.h5",
  package = "ICESat2VegR"
)

# Reading ATL08 data (h5 file)
atl08_h5 <- ATL08_read(atl08_path = atl08_path)

# Extracting ATL08-derived terrain and canopy attributes
atl08_seg_att_dt <- ATL08_seg_attributes_dt(atl08_h5 = atl08_h5)

# Computing the top h_canopy at 0.05 degree grid cell
res <- 0.0001
mean_h_canopy <- ATL08_seg_attributes_dt_gridStat(
  atl08_seg_att_dt,
  func = mean(h_canopy),
  res = res
)

plot(mean_h_canopy)

# Define your own function
mySetOfMetrics <- function(x) {
  metrics <- list(
    min = min(x, na.rm = TRUE), # Min of x
    max = max(x, na.rm = TRUE), # Max of x
    mean = mean(x, na.rm = TRUE), # Mean of x
    sd = sd(x, na.rm = TRUE) # Sd of x
  )
  return(metrics)
}

res <- 0.05
# Computing h_canopy statistics at 0.05 degree grid cell from user-defined function
h_canopy_metrics <- ATL08_seg_attributes_dt_gridStat(
  atl08_seg_att_dt,
  func = mySetOfMetrics(h_canopy),
  res = res
)

plot(h_canopy_metrics)

close(atl08_h5)
}
