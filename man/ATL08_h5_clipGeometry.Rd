% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ATL08_h5_clipBox.R
\name{ATL08_h5_clipGeometry}
\alias{ATL08_h5_clipGeometry}
\title{Clips ICESat-2 ATL08 data}
\usage{
ATL08_h5_clipGeometry(atl08, output, vect, polygon_id = "id")
}
\arguments{
\item{atl08}{\code{\linkS4class{icesat2.atl08_h5}} object, obtained through \code{\link[=ATL08_read]{ATL08_read()}}
for clipping}

\item{output}{character. Path to the output h5 file.}

\item{vect}{\code{\link[terra:SpatVector-class]{terra::SpatVector}} for clipping}

\item{polygon_id}{\code{\linkS4class{character}}. The attribute name used for identifying
the different polygons. Default is "id"}
}
\value{
Returns a list of clipped S4 object of class \code{\linkS4class{icesat2.atl08_h5}}
}
\description{
This function clips ATL08 HDF5 file within beam groups,
but keeps metada and ancillary data the same.
}
\examples{
# Specifying the path to ATL08 file (zip file)
outdir <- tempdir()
atl08_zip <- system.file("extdata",
  "atl08_20220401221822_01501506_005_01.zip",
  package = "rICESat2Veg"
)

# Unzipping ATL08 file
atl08_path <- unzip(atl08_zip, exdir = outdir)

# Reading ATL08 data (h5 file)
atl08_h5 <- atl08_read(atl08_path = atl08_path)

output <- file.path(outdir, "clipped.h5")

vect_path <- system.file("extdata",
  "polygons.shp",
  package = "rICESat2Veg"
)

vect <- terra::vect()

# Clipping ATL08 photons  by boundary box extent
atl08_photons_dt_clip <- ATL08_h5_clipGeometry(
  atl08_h5,
  output,
  vect,
  polygon_id = "id"
)

close(atl08_h5)
}
