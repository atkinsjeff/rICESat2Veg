% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ATL03_ATL08_segment_create.R
\name{ATL03_ATL08_segment_create}
\alias{ATL03_ATL08_segment_create}
\title{Compute segments id for a given segment length}
\usage{
ATL03_ATL08_segment_create(
  atl03_atl08_dt,
  segment_length,
  centroid = "mean",
  output = NA,
  overwrite = FALSE
)
}
\arguments{
\item{atl03_atl08_dt}{\code{\linkS4class{icesat2.atl03atl08_dt}}.
The output of the \code{\link[=ATL03_ATL08_photons_attributes_dt_join]{ATL03_ATL08_photons_attributes_dt_join()}}.}

\item{segment_length}{\code{\linkS4class{numeric}}. The desired segment length to split the photons.}

\item{centroid}{character. Method used to calculate the segment centroid, either "mean" or "midpoint",
see details. Default 'mean'.}

\item{output}{Character vector. The output vector file. The GDAL vector format
will be inferred by the file extension using \code{\link[terra:writeVector]{terra::writeVector()}}}

\item{overwrite}{logical input to control if the output vector file should be overwritten.
Default FALSE.}
}
\value{
Returns an S4 object of class \code{\linkS4class{icesat2.atl03atl08_dt}} containing ICESat-2 ATL08 data.
}
\description{
This function reads the ICESat-2 Land and
Vegetation Along-Track Products (ATL08) as h5 file.
}
\details{
The centroid will be computed using either the photons centroid or the approximate segment centroid.
\itemize{
\item "mean": calculated using the average coordinates from all photons within the segment.
This approach will better represent the mean statistics location.
\item "mid-point": the minimum and maximum coordinates will be averaged to calculate a midpoint within
the segment. This will give a better representation of the segment true mid-point
}
}
\examples{
atl03_path <- system.file("extdata",
  "atl03_clip.h5",
  package = "ICESat2VegR"
)

atl08_path <- system.file("extdata",
  "atl08_clip.h5",
  package = "ICESat2VegR"
)

# Reading ICESat-2 ATL08 data (h5 file)
atl03_h5 <- ATL03_read(atl03_path = atl03_path)
atl08_h5 <- ATL08_read(atl08_path = atl08_path)

atl03_atl08_dt <- ATL03_ATL08_photons_attributes_dt_join(atl03_h5, atl08_h5)

atl03_atl08_dt_seg <- ATL03_ATL08_segment_create(atl03_atl08_dt,
  segment_length = 30,
  centroid = "mean",
  output = NA,
  overwrite = FALSE
)

head(atl03_atl08_dt_seg)

close(atl03_h5)
close(atl08_h5)
}
\seealso{
\url{https://icesat-2.gsfc.nasa.gov/sites/default/files/page_files/ICESat2_ATL08_ATBD_r006.pdf}
}
