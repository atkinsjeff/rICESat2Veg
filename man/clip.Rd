% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clip.R
\name{clip}
\alias{clip}
\title{Generic function for clipping ICESat-2 ATL03 and ATL08 H5 data}
\usage{
clip(x, output, clip_obj, ...)
}
\arguments{
\item{x}{\code{\linkS4class{icesat2.atl03_h5}} or \code{\linkS4class{icesat2.atl08_h5}} object,
obtained through \code{\link[=ATL03_read]{ATL03_read()}} or \code{\link[=ATL08_read]{ATL08_read()}} for clipping}

\item{output}{character. Path to the output h5 file.}

\item{clip_obj}{\code{\linkS4class{numeric}}, \code{\link[terra:SpatExtent-class]{terra::SpatExtent}} or \code{\link[terra:SpatVector-class]{terra::SpatVector}}
object for clipping. The bbox order is the default from NASA's ICESat-2 data searching:
(ul_lat, ul_lon, lr_lat, lr_lon).}

\item{...}{Forwards to specific method implementation.}
}
\value{
Returns the clipped S4 object of the same class as the input file
}
\description{
This function clips ATL03 and ATL08 HDF5 file within beam groups,
but keeps metada and ancillary data the same.
}
\examples{
# ATL03 file path
atl03_path <- system.file("extdata",
  "atl03_clip.h5",
  package = "ICESat2VegR"
)

# Reading ATL03 data (h5 file)
atl03_h5 <- ATL03_read(atl03_path = atl03_path)

output <- tempfile(fileext = ".h5")

vect_path <- system.file("extdata",
  "clip_geom.shp",
  package = "ICESat2VegR"
)

vect <- terra::vect(vect_path)
ext <- terra::ext(vect)

# Clipping ATL03 photons by boundary box extent
atl03_clip <- clip(
  atl03_h5,
  output,
  ext
)

close(atl03_clip)

# Clipping ATL03 photons by geometry
atl03_clip_geom <- clip(
  atl03_h5,
  output,
  vect,
  polygon_id = "id"
)

close(atl03_clip_geom)
}
\seealso{
\code{\link[=ATL03_h5_clipBox]{ATL03_h5_clipBox()}}, \code{\link[=ATL03_h5_clipGeometry]{ATL03_h5_clipGeometry()}},
\code{\link[=ATL08_h5_clipBox]{ATL08_h5_clipBox()}}, \code{\link[=ATL08_h5_clipGeometry]{ATL08_h5_clipGeometry()}}
}
